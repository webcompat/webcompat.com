{% extends "layout.html" %}
{% block body %}
  <div class="IssueList js-issue-page">
  {% include "shared/nav.html" %}
    <div class="wc-content wc-content--body js-issuelist-filter">
      <script type="text/template" id="issuelist-filter-tmpl">
      <div class="Dropdown Dropdown--large">
       <button type="button" class="Dropdown-toggle js-dropdown-toggle">
         <span class="Dropdown-label">View all open issues</span> <span class="icon icon-chevron-down"></span>
        </button>
        <ul class="Dropdown-content" aria-hidden="false">
          <li class="Dropdown-item"><a href="#" class="Dropdown-link">All closed issues</a></li>
          <li class="Dropdown-item"><a href="#" class="Dropdown-link">All issues</a></li>
          <li class="Dropdown-item"><a href="#" class="Dropdown-link">Submmitted by me</a></li>
          <li class="Dropdown-item"><a href="#" class="Dropdown-link">Mentioning me</a></li>
        </ul>
      </div>
      <div>
        <button type="button" class="IssueList-filtering IssueList-filtering--untriaged">
          <span class="IssueList-filtering-count"></span> Untriaged</span>
        </button>
        <button type="button" class="IssueList-filtering IssueList-filtering--need">
          <span class="IssueList-filtering-count"></span> Needs Diagnosis</span>
        </button>
        <button type="button" class="IssueList-filtering IssueList-filtering--ready">
          <span class="IssueList-filtering-count"></span> Ready for outreach</span>
        </button>
        <button type="button" class="IssueList-filtering IssueList-filtering--sitewait">
          <span class="IssueList-filtering-count"></span> Site contacted</span>
        </button>
        <button type="button" class="IssueList-filtering IssueList-filtering--close">
          <span class="IssueList-filtering-count"></span> Closed</span>
        </button>
      </div>
      </script>
    </div>
    <div class="IssueList-search">
      <div class="wc-content">
        <form action="" method="post" role="form">
          <input type=="text" class="IssueList-search-form" placeholder="Search by keyword"/>
        </form>
      </div>
    </div>
    <div class="IssueList-sorting">
      <div class="wc-content">
        <div class="Dropdown wc-inline-block">
         <button type="button" class="Dropdown-toggle js-dropdown-toggle">
           <span class="Dropdown-label">Show 5</span> <span class="icon icon-chevron-down"></span></button>
          <ul class="Dropdown-content" aria-hidden="false">
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">10</a></li>
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">20</a></li>
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">50</a></li>
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">100</a></li>
          </ul>
        </div>
        <div class="Dropdown wc-inline-block">
         <button type="button" class="Dropdown-toggle js-dropdown-toggle wc-bold">
           <span class="Dropdown-label">Newest</span> <span class="icon icon-chevron-down"></span></button>
          <ul class="Dropdown-content" aria-hidden="false">
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">Oldest</a></li>
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">Most commented</a></li>
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">Least commented</a></li>
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">Recently updated</a></li>
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">Least updated</a></li>
            <li class="Dropdown-item"><a href="#" class="Dropdown-link">Earlier stage</a></li>
          </ul>
        </div>
      </div>
    </div>

    <!-- IssueListView -->
    <div class="IssueList-displayed">
      <div class="wc-content js-issue-list">
        <script type="text/template" id="issuelist-issue-tmpl">
        <% _.each(issues, function(issue) { %>
        <div class="IssueItem IssueItem--<%= issue.stateClass %> IssueItem--large u-table">
          <div class="IssueItem-section">
            <p class="IssueItem-header">
              <a href="/issues/<%= issue.number %>"><span class="IssueItem-count">Issue <%= issue.number %></span>: <%- issue.title %></a>
            </p>
            <p>
              <span class="IssueItem-metadata">Opened: <time><%= issue.createdAt %></time></span>
              <span class="IssueItem-metadata">Comments: <%= issue.commentNumber %></span>
            </p>
          </div>
          <div class="IssueItem-section">
            <span class="IssueItem-label"><% _.each(issue.labels, function(label) { %>
              <a href="#todo-clickable-filter-uri" class="wc-bold"><%= label.name %></a>
            <% }); %></span>
          </div>
        </div>
        <% }); %>
        </script>
      </div>
    </div>
  </div>
{% endblock %}
{% block extrascripts %}
{%- if config.PRODUCTION %}
<script src="{{ url_for('static', filename='js/issue-list.min.js') }}"></script>
{% else %}
<script src="{{ url_for('static', filename='js/lib/models/issue.js') }}"></script>
<script src="{{ url_for('static', filename='js/lib/issue-list.js') }}"></script>
{%- endif %}
{% endblock %}
